<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header" [class]="isEdit ? 'bg-warning text-dark' : 'bg-primary text-white'">
          <h3 class="card-title mb-0">
            <i class="fas" [class.fa-edit]="isEdit" [class.fa-plus-circle]="!isEdit" class="me-2"></i>
            {{ isEdit ? 'Editar Producto' : 'Agregar Nuevo Producto' }}
            <span class="badge bg-success ms-2"> IA Integrada</span>
          </h3>
        </div>
        <div class="card-body">
          <form (ngSubmit)="onSubmit()">
            <!-- Nombre del Producto -->
            <div class="mb-3">
              <label for="nombre" class="form-label">Nombre del Producto *</label>
              <input type="text" class="form-control" id="nombre" 
                     [(ngModel)]="item.nombre" name="nombre" 
                     required placeholder="Ej: Laptop">
            </div>

            <!-- Marca del Producto -->
            <div class="mb-3">
              <label for="marca" class="form-label">Marca *</label>
              <input type="text" class="form-control" id="marca" 
                     [(ngModel)]="item.marca" name="marca" 
                     required placeholder="Ej: HP">
            </div>

            <!-- Categor铆a con IA -->
            <div class="mb-3">
              <label for="categoria" class="form-label">Categor铆a *</label>
              <div class="input-group">
                <input type="text" class="form-control" id="categoria" 
                       [(ngModel)]="item.categoria" name="categoria" 
                       required placeholder="Ej: Tecnolog铆a">
                <button type="button" class="btn btn-outline-info" 
                        (click)="autoClassify()" 
                        [disabled]="isClassifying">
                  <i class="fas fa-robot"></i> 
                  {{ isClassifying ? 'Clasificando...' : 'Clasificar con IA' }}
                </button>
              </div>
              <div class="form-text">
                 La IA sugerir谩 autom谩ticamente la categor铆a y descripci贸n basada en el nombre y la marca. Puedes editar la descripci贸n si lo deseas.
              </div>
            </div>

            <!-- Cantidad -->
            <div class="mb-3">
              <label for="cantidad" class="form-label">Cantidad *</label>
              <input type="number" class="form-control" id="cantidad" 
                     [(ngModel)]="item.cantidad" name="cantidad" 
                     min="0" required placeholder="Ej: 10">
            </div>

            <!-- Descripci贸n -->
            <div class="mb-4">
              <label for="descripcion" class="form-label">Descripci贸n</label>
              <textarea class="form-control" id="descripcion" 
                        [(ngModel)]="item.descripcion" name="descripcion" 
                        rows="4" placeholder="Descripci贸n detallada del producto..."></textarea>
            </div>

            <!-- Botones -->
            <div class="d-flex gap-2">
              <button type="submit" class="btn btn-success flex-fill">
                <i class="fas fa-save me-2"></i>
                {{ isEdit ? 'Actualizar Producto' : 'Guardar Producto' }}
              </button>
              <button type="button" class="btn btn-secondary" (click)="cancel()">
                <i class="fas fa-times me-2"></i>Cancelar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
